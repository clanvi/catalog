<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>FASHION FABRIQUE</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      background: #f5f5f5;
    }
    header {
      background: #fff;
      padding: 16px;
      font-size: 18px;
      font-weight: bold;
      border-bottom: 1px solid #eee;
      text-align: center;
    }
    .product-card {
      background: #fff;
      margin: 10px;
      border-radius: 10px;
      padding: 12px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    .product-img {
      width: 100%;
      border-radius: 8px;
    }
    .product-title {
      font-weight: bold;
      margin-top: 8px;
    }
    .btn {
      background: #2296f3;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      width: 100%;
      margin-top: 8px;
    }
    .btn:active {
      opacity: 0.8;
    }
    /* –ò—Å–ø–æ–ª—å–∑—É–µ–º Grid –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–≤—É—Ö —Ç–æ–≤–∞—Ä–æ–≤ –≤ —Ä—è–¥—É */
    #product-list {
      display: grid;
      grid-template-columns: repeat(2, 1fr); /* 2 –∫–æ–ª–æ–Ω–∫–∏ */
      gap: 16px;
      padding: 10px;
    }

    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–µ–Ω—å—à–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
    @media (max-width: 768px) {
      #product-list {
        grid-template-columns: repeat(1, 1fr); /* 1 –∫–æ–ª–æ–Ω–∫–∞ –Ω–∞ –º–∞–ª—ã—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
      }
    }

    /* –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ */
    #back-to-products {
      display: none;
      position: absolute;
      top: 16px;
      left: 16px;
      cursor: pointer;
      font-size: 18px;
      font-weight: bold;
    }
  </style>
</head>
<body>

<header>FASHION FABRIQUE</header>

<input type="text" id="search-input" placeholder="–Ø –∏—â—É..." oninput="searchProducts()" style="width: 90%; margin: 10px auto; display: block; padding: 8px 12px; border-radius: 8px; border: 1px solid #ccc;">

<div id="category-select" onclick="openCategories()" style="padding: 12px 16px; background: white; border-bottom: 1px solid #eee; cursor: pointer;">
  <div style="font-weight: bold;">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</div>
  <div style="color: #888;" id="selected-category-label">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</div>
</div>

<div id="product-list"></div>

<button onclick="openCart()" class="btn" style="margin: 20px auto; display: block; width: 90%;">–ö–æ—Ä–∑–∏–Ω–∞</button>

<!-- –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ —Å–ø–∏—Å–∫—É —Ç–æ–≤–∞—Ä–æ–≤ -->
<div id="back-to-products">
  ‚Üê –ù–∞–∑–∞–¥ –∫ —Ç–æ–≤–∞—Ä–∞–º
</div>

<!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
<div id="category-modal" style="display:none; position:fixed; inset:0; background:white; z-index:999; padding:20px; overflow-y:auto;">
  <h3>–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</h3>
  <label><input type="radio" name="category" value="–í—Å–µ —Ç–æ–≤–∞—Ä—ã" checked> –í—Å–µ —Ç–æ–≤–∞—Ä—ã</label><br>
  <label><input type="radio" name="category" value="–û–¥–µ–∂–¥–∞"> –û–¥–µ–∂–¥–∞</label><br>
  <label><input type="radio" name="category" value="–û–±—É–≤—å"> –û–±—É–≤—å</label><br>
  <label><input type="radio" name="category" value="–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã"> –ê–∫—Å–µ—Å—Å—É–∞—Ä—ã</label><br>
  <label><input type="radio" name="category" value="Last chance"> Last chance</label><br>
  <label><input type="radio" name="category" value="sale -25%"> sale -25%</label><br>
  <label><input type="radio" name="category" value="sale -40%"> sale -40%</label><br><br>
  <button onclick="applyCategory()" class="btn">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å</button>
</div>

<!-- –ö–æ—Ä–∑–∏–Ω–∞ -->
<div id="cart-modal" style="display:none; position:fixed; inset:0; background:white; z-index:1000; padding:20px; overflow-y:auto;">
  <h3>üõí –ú–æ—è –∫–æ—Ä–∑–∏–Ω–∞</h3>
  <div id="cart-items"></div>
  <button onclick="closeCart()" class="btn" style="background: #ccc; color: #000; margin-top: 20px;">–ó–∞–∫—Ä—ã—Ç—å</button>
</div>

<script>
  const products = [
    {
      id: '1',
      title: '–ö–£–†–¢–ö–ê –° –í–´–®–ò–í–ö–û–ô',
      price: 19500,
      image: 'https://via.placeholder.com/300x400?text=–ö—É—Ä—Ç–∫–∞',
      colors: ['#eacaca', '#c0e0ff'],
      category: '–û–¥–µ–∂–¥–∞'
    },
    {
      id: '2',
      title: '–ú–ï–•–û–í–´–ï –ö–ï–î–´',
      price: 8500,
      image: 'https://via.placeholder.com/300x400?text=–ö–µ–¥—ã',
      colors: ['#b6a27b', '#a8a8a8'],
      category: '–û–±—É–≤—å'
    },
    {
      id: '3',
      title: '–¢–ï–ü–õ–´–ô –°–í–ò–¢–ï–†',
      price: 12000,
      image: 'https://via.placeholder.com/300x400?text=–°–≤–∏—Ç–µ—Ä',
      colors: ['#9f6c4d', '#f1e5e0'],
      category: '–û–¥–µ–∂–¥–∞'
    },
    {
      id: '4',
      title: '–ö–û–ñ–ê–ù–´–ï –°–ê–ü–û–ì–ò',
      price: 15000,
      image: 'https://via.placeholder.com/300x400?text=–°–∞–ø–æ–≥–∏',
      colors: ['#564b4a', '#c5a88d'],
      category: '–û–±—É–≤—å'
    },
    {
      id: '5',
      title: '–î–ñ–ò–ù–°–û–í–ê–Ø –†–£–ë–ê–®–ö–ê',
      price: 9500,
      image: 'https://via.placeholder.com/300x400?text=–†—É–±–∞—à–∫–∞',
      colors: ['#476b9d', '#a6a6a6'],
      category: '–û–¥–µ–∂–¥–∞'
    },
    {
      id: '6',
      title: '–ú–£–ñ–°–ö–ò–ï –ß–ê–°–´',
      price: 20000,
      image: 'https://via.placeholder.com/300x400?text=–ß–∞—Å—ã',
      colors: ['#333333', '#d0c7c7'],
      category: '–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã'
    },
    {
      id: '7',
      title: '–°–£–ú–ö–ê-–†–Æ–ö–ó–ê–ö',
      price: 11000,
      image: 'https://via.placeholder.com/300x400?text=–°—É–º–∫–∞',
      colors: ['#f2d8c7', '#9d9d9d'],
      category: '–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã'
    },
    {
      id: '8',
      title: '–õ–ï–¢–ù–ò–ï –ö–ï–î–´',
      price: 6900,
      image: 'https://via.placeholder.com/300x400?text=–õ–µ—Ç–Ω–∏–µ+–ö–µ–¥—ã',
      colors: ['#f7f7f7', '#5a5a5a'],
      category: '–û–±—É–≤—å'
    }
  ];

  let selectedCategory = '–í—Å–µ —Ç–æ–≤–∞—Ä—ã';
  const selectedColors = {};
  const cart = [];

  function renderProducts(list) {
    const container = document.getElementById('product-list');
    container.innerHTML = '';
    list.forEach(product => {
      const colorOptions = product.colors.map(color =>
        `<span onclick="selectColor('${product.id}', '${color}')" style="display:inline-block;width:20px;height:20px;border-radius:50%;background:${color};margin-right:5px;cursor:pointer;border:2px solid #ccc;"></span>`
      ).join('');
      container.innerHTML += `
        <div class="product-card">
          <img src="${product.image}" class="product-img">
          <div class="product-title">${product.title}</div>
          <div>${product.price} ‚ÇΩ</div>
          <div style="margin-top: 8px;">${colorOptions}</div>
          <button class="btn" onclick="addToCart('${product.id}')">+ –î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
      `;
    });
  }

  function selectColor(productId, color) {
    selectedColors[productId] = color;
  }

  function addToCart(productId) {
    const product = products.find(p => p.id === productId);
    const color = selectedColors[productId] || product.colors[0];
    cart.push({ ...product, color });
    alert('–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É!');
  }

  function openCategories() {
    document.getElementById('category-modal').style.display = 'block';
    document.getElementById('product-list').style.display = 'none';
    document.getElementById('back-to-products').style.display = 'block'; // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –≤–æ–∑–≤—Ä–∞—Ç–∞
  }

  function applyCategory() {
    const radios = document.getElementsByName('category');
    for (let radio of radios) {
      if (radio.checked) {
        selectedCategory = radio.value;
        break;
      }
    }
    document.getElementById('selected-category-label').textContent = selectedCategory;
    document.getElementById('category-modal').style.display = 'none';
    document.getElementById('product-list').style.display = 'block';
    document.getElementById('back-to-products').style.display = 'none'; // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –≤–æ–∑–≤—Ä–∞—Ç–∞
    const filtered = selectedCategory === "–í—Å–µ —Ç–æ–≤–∞—Ä—ã"
      ? products
      : products.filter(p => p.category === selectedCategory);
    renderProducts(filtered);
  }

  function searchProducts() {
    const query = document.getElementById('search-input').value.toLowerCase();
    const filtered = products.filter(p => p.title.toLowerCase().includes(query));
    renderProducts(filtered);
  }

  function openCart() {
    document.getElementById('cart-modal').style.display = 'block';
    const cartItems = cart.map(item => `
      <div style="margin-bottom: 12px; border-bottom: 1px solid #ccc; padding-bottom: 8px;">
        <div><b>${item.title}</b> ‚Äì ${item.price} ‚ÇΩ</div>
        <div>–¶–≤–µ—Ç: <span style="display:inline-block;width:12px;height:12px;background:${item.color};border-radius:50%;"></span></div>
      </div>
    `).join('');
    document.getElementById('cart-items').innerHTML = cartItems;
  }

  function closeCart() {
    document.getElementById('cart-modal').style.display = 'none';
  }

  document.getElementById('back-to-products').onclick = () => {
    document.getElementById('category-modal').style.display = 'none';
    document.getElementById('product-list').style.display = 'block';
    document.getElementById('back-to-products').style.display = 'none';
  };

  renderProducts(products);
</script>

</body>
</html>
